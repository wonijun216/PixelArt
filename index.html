<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>픽셀보드 2.0</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>

<header>
  <div class="header-inner">
    <h1>🎨 픽셀보드</h1>
    <div class="header-actions">
      <span id="userNicknameDisplay" style="color:#666; font-size:14px;" class="hidden"></span>
      <button id="logoutBtn" class="btn hidden">로그아웃</button>
    </div>
  </div>
</header>

<div class="container">
  <!-- 로그인/회원가입 화면 -->
  <div id="authView" class="auth-form">
    <h2>픽셀보드에 오신 것을 환영합니다</h2>
    <div class="form-group">
      <label>이메일</label>
      <input type="email" id="authEmail" placeholder="이메일">
    </div>
    <div class="form-group">
      <label>비밀번호</label>
      <input type="password" id="authPassword" placeholder="비밀번호 (6자 이상)">
    </div>
    <div class="form-group">
      <label>닉네임 (회원가입 시)</label>
      <input type="text" id="authNickname" placeholder="닉네임 (최대 12자)" maxlength="12">
    </div>
    <div style="display:flex; gap:8px;">
      <button id="loginBtn" class="btn primary" style="flex:1;">로그인</button>
      <button id="signupBtn" class="btn" style="flex:1;">회원가입</button>
    </div>
  </div>

  <!-- 갤러리 뷰 -->
  <div id="galleryView" class="hidden">
    <div class="gallery-layout">
      <aside class="sidebar">
        <h3>🏆 명예의 전당</h3>
        <div id="leaderboard">(로딩중...)</div>
      </aside>

      <div class="main-content">
        <div class="controls-bar">
          <div class="search-box">
            <input type="text" id="searchInput" placeholder="작품 검색...">
          </div>
          <button id="createNewBtn" class="btn primary">✏️ 작품 만들기</button>
        </div>

        <div class="filter-group" style="margin-bottom:20px;">
          <button class="filter-btn active" data-filter="latest">최신순</button>
          <button class="filter-btn" data-filter="oldest">오래된순</button>
          <button class="filter-btn" data-filter="popular">인기순</button>
        </div>

        <div id="artworksGrid" class="artworks-grid"></div>
        
        <div id="pagination" class="pagination"></div>
      </div>
    </div>
  </div>

  <!-- 작품 만들기 뷰 -->
  <div id="createView" class="hidden create-view">
    <div class="create-header">
      <input type="text" id="artworkTitle" placeholder="작품 제목을 입력하세요" maxlength="50">
    </div>

    <div class="canvas-area">
      <div class="canvas-wrapper">
        <canvas id="createCanvas" width="640" height="640"></canvas>
      </div>
      <div class="canvas-controls">
        <button class="color-btn active" data-color="#3b82f6" style="background:#3b82f6;" title="파란색"></button>
        <button class="color-btn" data-color="#ef4444" style="background:#ef4444;" title="빨간색"></button>
        <button class="color-btn" data-color="#22c55e" style="background:#22c55e;" title="초록색"></button>
        <button class="color-btn" data-color="#eab308" style="background:#eab308;" title="노란색"></button>
        <button class="color-btn" data-color="#a855f7" style="background:#a855f7;" title="보라색"></button>
        <button class="color-btn" data-color="#ec4899" style="background:#ec4899;" title="분홍색"></button>
        <input type="color" id="customColor" title="커스텀 색상">
        <button id="eraserBtn" class="btn eraser-off">
          <span class="eraser-indicator"></span>
          지우개
        </button>
        <button id="clearBtn" class="btn">초기화</button>
      </div>
    </div>

    <div class="action-bar">
      <button id="cancelCreateBtn" class="btn">취소</button>
      <button id="publishBtn" class="btn primary">게시하기</button>
    </div>
  </div>
</div>

<!-- 작품 상세보기 모달 -->
<div id="artworkModal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h2 id="modalTitle" style="margin:0; font-size:20px;"></h2>
      <button class="modal-close" id="modalCloseBtn">×</button>
    </div>
    <div class="modal-body">
      <canvas id="modalCanvas" class="modal-canvas" width="640" height="640"></canvas>
      <div class="modal-info">
        <div>
          <div style="font-size:14px; color:#666;">
            작가: <span id="modalCreator"></span> | 
            기여자 <span id="modalContributors"></span>명
          </div>
        </div>
        <div style="display:flex; gap:8px;">
          <button id="likeButton" class="like-button">
            <span>❤️</span>
            <span id="modalLikes">0</span>
          </button>
          <button id="deleteArtworkBtn" class="btn danger hidden">삭제</button>
        </div>
      </div>
      <div class="contributors-section">
        <h4>기여자 명단</h4>
        <div id="modalContributorsList" class="contributors-list"></div>
      </div>
    </div>
  </div>
</div>

<script type="module" src="script.js"></script>
</body>
</html>
